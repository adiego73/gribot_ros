<?xml version="1.0"?>
<launch>

  <arg name="tcp_addr"                    default="192.168.0.222"/>

  <include file="$(find piksi_multi_rtk_ros)/launch/piksi_multi_rover.launch">
    <arg name="tcp_addr" value="$(arg tcp_addr)"/>
    <arg name="interface" value="tcp"/>
  </include>
  <rosparam>
    piksi/publish_raw_imu_and_mag: true
  </rosparam>

  <!-- <node pkg="nodelet" type="nodelet" name="imu_manager" args="manager"/> -->

  <!-- Transforms piksi multi tilted data in piksi_imu frame to ENU data in base_link frame -->
  <!-- <node pkg="nodelet" type="nodelet" name="imu_data_transformer" args="load imu_transformer/imu_transformer_nodelet imu_manager">
    <remap from="imu_in/data" to="piksi/imu"/>
    <remap from="imu_in/mag" to="piksi/mag"/>
    <remap from="imu_out/data" to="imu/data_raw"/>
    <remap from="imu_out/mag" to="imu/mag"/>
    <param name="target_frame" value="base_link"/>
  </node> -->

  <!-- Filter raw gyro, accel and mag data into a usable orientation -->
  <!-- <node pkg="nodelet" type="nodelet" name="imu_filter" args="load imu_filter_madgwick/ImuFilterNodelet imu_manager"> -->
    <!-- <rosparam file="$(env WOLVERINE_MAG_CONFIG)" /> NOT -->
    <!-- <rosparam>
      orientation_stddev: 0.001
      gain: 0.01
      zeta: 0.001
      publish_tf: false
    </rosparam>
  </node> -->

  <!-- <node pkg="tf" type="static_transform_publisher" name="imu_broadcaster" args="0 0.17 0.07 3.14159 0 0 base_link piksi_imu 100"/> -->

</launch>
